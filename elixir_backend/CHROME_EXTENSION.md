# Chrome Extension для управления ссылками

## Что было сделано

### 1. Создан Chrome Extension
- Полнофункциональный интерфейс для управления ссылками
- Расположен в папке `extension/`
- Включает все необходимые файлы: manifest.json, popup.html, popup.js, styles.css, background.js

### 2. Функционал Extension

#### Основные возможности:
- ✅ Просмотр всех ссылок с фильтрацией по группам
- ✅ Поиск по названию, URL и описанию
- ✅ Создание новых ссылок с валидацией уникальности имени
- ✅ Редактирование существующих ссылок
- ✅ Удаление ссылок
- ✅ Открытие ссылок через короткий URL (/r/:name)
- ✅ Настройка API URL

#### Быстрое создание ссылок:
- Автоматическое заполнение URL текущей страницы при создании ссылки
- Контекстное меню для быстрого создания ссылки с любой страницы
- Автоматическая генерация имени на основе заголовка страницы

### 3. Упрощение Phoenix приложения

#### Удалено:
- ❌ Backpex админка (веб-интерфейс)
- ❌ LiveView компоненты для админки
- ❌ Неиспользуемые маршруты и контроллеры
- ❌ Зависимости от Backpex в router

#### Оставлено:
- ✅ Phoenix API для работы с ссылками
- ✅ Маршрут редиректа `/r/:name`
- ✅ API endpoints: GET, POST, PUT, DELETE для ссылок
- ✅ Валидация уникальности имени ссылки
- ✅ CORS настроен для работы с extension

### 4. Улучшения API

- Правильная обработка JSON запросов в LinkController
- Обработка ошибки `name_already_exists` с понятным сообщением
- Валидация данных на уровне базы данных (уникальный индекс)

## Структура файлов

```
extension/
├── manifest.json          # Манифест расширения
├── popup.html             # HTML интерфейса
├── popup.js               # Логика работы
├── styles.css             # Стили интерфейса
├── background.js          # Фоновый скрипт
├── content.js             # Контентный скрипт
├── README.md              # Документация
├── INSTALL.md             # Инструкция по установке
└── icons/                 # Иконки расширения (нужно добавить)
```

## Установка и использование

См. файл `extension/INSTALL.md` для подробных инструкций.

### Быстрый старт:

1. Загрузите extension в Chrome (chrome://extensions/)
2. Запустите Phoenix сервер: `mix phx.server`
3. Откройте extension и настройте API URL (если нужно)
4. Начните создавать ссылки!

## API Endpoints

Все endpoints доступны по адресу `http://localhost:4000/api`:

- `GET /api/links` - получить все ссылки
- `GET /api/links/:id` - получить ссылку по ID
- `POST /api/links` - создать новую ссылку
- `PUT /api/links/:id` - обновить ссылку
- `DELETE /api/links/:id` - удалить ссылку
- `GET /api/groups/:group_id/links` - получить ссылки по группе
- `GET /r/:name` - редирект по короткой ссылке

## Преимущества нового подхода

1. **Удобство:** Управление ссылками прямо из браузера
2. **Быстрота:** Быстрое создание ссылок из текущей страницы
3. **Простота:** Упрощенная архитектура без веб-интерфейса
4. **Производительность:** Меньше зависимостей, быстрее работа
5. **Мобильность:** Extension работает на любой странице

## Следующие шаги (опционально)

- [ ] Добавить иконки для extension
- [ ] Добавить аутентификацию для API
- [ ] Добавить синхронизацию между устройствами
- [ ] Добавить статистику переходов по ссылкам
- [ ] Добавить экспорт/импорт ссылок
